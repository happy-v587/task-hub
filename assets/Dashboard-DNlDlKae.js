import{k as C,j as f,l as $,m as x,s as _,o as d,b as c,i as s,t as k,n as S,p as V,v as I,q as B,x as R,F as b,y as w,z as y,d as v,A as m,B as j,w as z,C as D,u as M,e as N}from"./vue-vendor-DwEwPXgm.js";const T=C("task-store",()=>{const r=localStorage.getItem("my-tasks"),e=f(r?JSON.parse(r):[]),a=f("all"),l=x(()=>a.value==="active"?e.value.filter(n=>!n.isCompleted):a.value==="completed"?e.value.filter(n=>n.isCompleted):e.value),o=n=>{e.value.unshift({id:crypto.randomUUID(),title:n,isCompleted:!1})},t=n=>{e.value=e.value.filter(u=>u.id!==n)},i=n=>{const u=e.value.find(h=>h.id===n);u&&(u.isCompleted=!u.isCompleted)};return $(e,n=>{localStorage.setItem("my-tasks",JSON.stringify(n))},{deep:!0}),{tasks:e,filter:a,filteredTasks:l,addTask:o,removeTask:t,toggleTask:i}}),U={class:"bg-linear-to-br from-blue-600 to-indigo-700 p-8 text-white"},A={class:"mt-6"},F={class:"flex justify-between items-end mb-2"},L={class:"text-2xl font-mono font-black"},O={class:"h-2 w-full bg-white/20 rounded-full overflow-hidden backdrop-blur-sm"},q={__name:"TaskHeader",setup(r){const e=T(),{tasks:a}=_(e),l=x(()=>{const o=a.value.length;if(o===0)return 0;const t=a.value.filter(i=>i.isCompleted).length;return Math.round(t/o*100)});return(o,t)=>(d(),c("header",U,[t[1]||(t[1]=s("h1",{class:"text-3xl font-black tracking-tight"},"TaskHub",-1)),s("div",A,[s("div",F,[t[0]||(t[0]=s("p",{class:"text-blue-100/80 text-xs font-bold uppercase tracking-wider"},"完成进度",-1)),s("span",L,k(l.value)+"%",1)]),s("div",O,[s("div",{class:"h-full bg-white shadow-[0_0_15px_rgba(255,255,255,0.5)] transition-all duration-500 ease-out",style:S({width:`${l.value}%`})},null,4)])])]))}},H={class:"flex gap-2 mb-8"},J={__name:"TaskInput",emits:["add-task"],setup(r,{emit:e}){const a=e,l=f(""),o=()=>{const t=l.value.trim();t&&(a("add-task",t),l.value="")};return(t,i)=>(d(),c("div",H,[V(s("input",{"onUpdate:modelValue":i[0]||(i[0]=n=>l.value=n),onKeyup:B(o,["enter"]),placeholder:"今天要完成什么？",class:"flex-1 bg-slate-50 border-none rounded-2xl px-4 py-3 focus:ring-2 focus:ring-brand/50 outline-none transition-all"},null,544),[[I,l.value]]),s("button",{onClick:o,class:"bg-brand text-white px-6 rounded-2xl font-bold hover:scale-105 active:scale-95 transition-all"}," + ")]))}},K={class:"flex p-1 bg-slate-100 rounded-xl mb-6"},E=["onClick"],G={__name:"TaskFilter",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(r){const e=R(r,"modelValue"),a=["all","active","completed"];return(l,o)=>(d(),c("div",K,[(d(),c(b,null,w(a,t=>s("button",{key:t,onClick:i=>e.value=t,class:y(["flex-1 py-1.5 text-xs font-bold rounded-lg transition-all capitalize",e.value===t?"bg-white text-brand shadow-sm":"text-slate-500"])},k(t),11,E)),64))]))}},P={class:"group flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-transparent hover:border-slate-200 hover:bg-white transition-all"},Q={class:"flex items-center gap-3"},W=["checked"],X={__name:"TaskItem",props:{task:{type:Object,required:!0}},emits:["toggle","remove"],setup(r,{emit:e}){const a=e;return(l,o)=>(d(),c("li",P,[s("div",Q,[s("input",{type:"checkbox",checked:r.task.isCompleted,onChange:o[0]||(o[0]=t=>a("toggle",r.task.id)),class:"w-5 h-5 accent-brand cursor-pointer"},null,40,W),s("span",{class:y(["text-slate-700 font-medium",r.task.isCompleted?"line-through text-slate-400 opacity-50":""])},k(r.task.title),3)]),s("button",{onClick:o[1]||(o[1]=t=>a("remove",r.task.id)),class:"opacity-0 group-hover:opacity-100 text-slate-300 hover:text-red-500 transition-all p-1"}," ✕ ")]))}},Y={class:"py-12 px-4"},Z={class:"max-w-md mx-auto bg-white rounded-3xl shadow-xl border border-slate-100 overflow-hidden"},ee={class:"p-6"},te={class:"space-y-3"},oe={__name:"Dashboard",setup(r){const e=T(),a=M(),{filter:l,filteredTasks:o}=_(e),{addTask:t,removeTask:i,toggleTask:n}=e,u=()=>{localStorage.removeItem("isLoggedIn"),a.push("/login")};return(h,g)=>(d(),c("div",Y,[s("div",Z,[v(q),s("main",ee,[v(J,{onAddTask:m(t)},null,8,["onAddTask"]),v(G,{modelValue:m(l),"onUpdate:modelValue":g[0]||(g[0]=p=>j(l)?l.value=p:null)},null,8,["modelValue"]),s("ul",te,[v(D,{name:"list"},{default:z(()=>[(d(!0),c(b,null,w(m(o),p=>(d(),N(X,{key:p.id,task:p,onToggle:m(n),onRemove:m(i)},null,8,["task","onToggle","onRemove"]))),128))]),_:1})]),s("button",{onClick:u,class:"mt-8 w-full py-2 text-xs text-slate-400 hover:text-red-500 transition-colors"}," 退出当前账号 ")])])]))}};export{oe as default};
